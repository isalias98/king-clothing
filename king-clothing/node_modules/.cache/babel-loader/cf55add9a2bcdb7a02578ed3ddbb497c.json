{"ast":null,"code":"import _defineProperty from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//import { async } from \"@firebase/util\";\nimport{useState}from\"react\";import FormInput from\"../form-input/form-input.component\";import Button from\"../button/button.component\";import{createAuthUserWithEmailAndPassword,createUserDocumentFromAuth}from\"../../utils/firebase/firebase.utils\";import'./sign-up-form.styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:'',email:'',password:'',confirmPassowrd:''};var SignUpForm=function SignUpForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$createAuthUser,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert(\"password do not match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return createAuthUserWithEmailAndPassword(email,password);case 7:_yield$createAuthUser=_context.sent;user=_yield$createAuthUser.user;_context.next=11;return createUserDocumentFromAuth(user,{displayName:displayName});case 11:resetFormFields();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if(_context.t0.code==='auth/email already in use'){alert('Cannot create user, email already in use');}else{console.log('user created encounter an error',_context.t0);}case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Display Name\",type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm Password\",type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign Up\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["useState","FormInput","Button","createAuthUserWithEmailAndPassword","createUserDocumentFromAuth","defaultFormFields","displayName","email","password","confirmPassowrd","SignUpForm","formFields","setFormFields","confirmPassword","resetFormFields","handleSubmit","event","preventDefault","alert","user","code","console","log","handleChange","target","name","value"],"sources":["D:/Weebsitee/React Course/king-clothing/src/components/sign-up-form/sign-up-form.component.jsx"],"sourcesContent":["//import { async } from \"@firebase/util\";\r\nimport { useState, } from \"react\";\r\n\r\nimport FormInput from \"../form-input/form-input.component\";\r\nimport Button from \"../button/button.component\";\r\n\r\nimport { createAuthUserWithEmailAndPassword, createUserDocumentFromAuth } from \"../../utils/firebase/firebase.utils\";\r\n\r\nimport './sign-up-form.styles.scss'\r\n\r\nconst defaultFormFields = {\r\n    displayName: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassowrd:''\r\n}\r\nconst SignUpForm = () => {\r\n    const [formFields, setFormFields] = useState(defaultFormFields);\r\n    const {displayName, email, password, confirmPassword} = formFields;\r\n\r\n    const resetFormFields = () => {\r\n        setFormFields(defaultFormFields)\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if(password !== confirmPassword) {\r\n            alert(\"password do not match\")\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const {user} = await createAuthUserWithEmailAndPassword(email, password)\r\n\r\n            \r\n            await createUserDocumentFromAuth(user, {displayName});\r\n            resetFormFields();\r\n        } catch (err) {\r\n            if(err.code === 'auth/email already in use') {\r\n                alert('Cannot create user, email already in use');\r\n            } else {\r\n                console.log('user created encounter an error', err )\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const {name, value}  = event.target;\r\n\r\n        setFormFields({...formFields, [name]: value})\r\n    };\r\n    \r\n    return(\r\n        <div className=\"sign-up-container\">\r\n            <h2>Don't have an account?</h2>\r\n            <span>\r\n                Sign up with your email and password\r\n            </span>\r\n            <form onSubmit={handleSubmit }>\r\n                <FormInput label=\"Display Name\" type=\"text\" required onChange={handleChange} name=\"displayName\" value={displayName}/>\r\n\r\n                <FormInput label=\"Email\" type=\"email\" required onChange={handleChange} name=\"email\" value={email}/>\r\n\r\n                <FormInput label=\"Password\" type=\"password\" required onChange={handleChange} name=\"password\" value={password}/>\r\n\r\n                <FormInput label=\"Confirm Password\" type=\"password\" required onChange={handleChange} name=\"confirmPassword\" value={confirmPassword}/>\r\n                <Button type=\"submit\">Sign Up</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUpForm;"],"mappings":"koBAAA;AACA,OAASA,QAAT,KAA0B,OAA1B,CAEA,MAAOC,UAAP,KAAsB,oCAAtB,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CAEA,OAASC,kCAAT,CAA6CC,0BAA7C,KAA+E,qCAA/E,CAEA,MAAO,4BAAP,C,wFAEA,GAAMC,kBAAiB,CAAG,CACtBC,WAAW,CAAE,EADS,CAEtBC,KAAK,CAAE,EAFe,CAGtBC,QAAQ,CAAE,EAHY,CAItBC,eAAe,CAAC,EAJM,CAA1B,CAMA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,cAAoCV,QAAQ,CAACK,iBAAD,CAA5C,wCAAOM,UAAP,eAAmBC,aAAnB,eACA,GAAON,YAAP,CAAwDK,UAAxD,CAAOL,WAAP,CAAoBC,KAApB,CAAwDI,UAAxD,CAAoBJ,KAApB,CAA2BC,QAA3B,CAAwDG,UAAxD,CAA2BH,QAA3B,CAAqCK,eAArC,CAAwDF,UAAxD,CAAqCE,eAArC,CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1BF,aAAa,CAACP,iBAAD,CAAb,CACH,CAFD,CAIA,GAAMU,aAAY,4FAAG,iBAAOC,KAAP,mJACjBA,KAAK,CAACC,cAAN,GADiB,KAGdT,QAAQ,GAAKK,eAHC,0BAIbK,KAAK,CAAC,uBAAD,CAAL,CAJa,8EASQf,mCAAkC,CAACI,KAAD,CAAQC,QAAR,CAT1C,4CASNW,IATM,uBASNA,IATM,wBAYPf,2BAA0B,CAACe,IAAD,CAAO,CAACb,WAAW,CAAXA,WAAD,CAAP,CAZnB,SAabQ,eAAe,GAbF,iFAeb,GAAG,YAAIM,IAAJ,GAAa,2BAAhB,CAA6C,CACzCF,KAAK,CAAC,0CAAD,CAAL,CACH,CAFD,IAEO,CACHG,OAAO,CAACC,GAAR,CAAY,iCAAZ,cACH,CAnBY,qEAAH,kBAAZP,aAAY,4CAAlB,CAuBA,GAAMQ,aAAY,CAAG,QAAfA,aAAe,CAACP,KAAD,CAAW,CAC5B,kBAAuBA,KAAK,CAACQ,MAA7B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CAEAd,aAAa,gCAAKD,UAAL,wBAAkBc,IAAlB,CAAyBC,KAAzB,GAAb,CACH,CAJD,CAMA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,8CADJ,cAEI,8DAFJ,cAKI,cAAM,QAAQ,CAAEX,YAAhB,wBACI,KAAC,SAAD,EAAW,KAAK,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEQ,YAA/D,CAA6E,IAAI,CAAC,aAAlF,CAAgG,KAAK,CAAEjB,WAAvG,EADJ,cAGI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,QAAQ,KAA9C,CAA+C,QAAQ,CAAEiB,YAAzD,CAAuE,IAAI,CAAC,OAA5E,CAAoF,KAAK,CAAEhB,KAA3F,EAHJ,cAKI,KAAC,SAAD,EAAW,KAAK,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEgB,YAA/D,CAA6E,IAAI,CAAC,UAAlF,CAA6F,KAAK,CAAEf,QAApG,EALJ,cAOI,KAAC,SAAD,EAAW,KAAK,CAAC,kBAAjB,CAAoC,IAAI,CAAC,UAAzC,CAAoD,QAAQ,KAA5D,CAA6D,QAAQ,CAAEe,YAAvE,CAAqF,IAAI,CAAC,iBAA1F,CAA4G,KAAK,CAAEV,eAAnH,EAPJ,cAQI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,qBARJ,GALJ,GADJ,CAkBH,CAvDD,CAyDA,cAAeH,WAAf"},"metadata":{},"sourceType":"module"}