{"ast":null,"code":"import _defineProperty from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//import { async } from \"@firebase/util\";\nimport{useState}from\"react\";import FormInput from\"../form-input/form-input.component\";import Button,{BUTTON_TYPE_CLASSES}from\"../button/button.component\";import{signInWithGooglePopup,createUserDocumentFromAuth,signInAuthUserWithEmailAndPassword}from\"../../utils/firebase/firebase.utils\";import'./sign-in-form.styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={email:'',password:''};var SignInForm=function SignInForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var email=formFields.email,password=formFields.password;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return signInWithGooglePopup();case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return signInAuthUserWithEmailAndPassword(email,password);case 4:resetFormFields();_context2.next=17;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);_context2.t1=_context2.t0.code;_context2.next=_context2.t1==='auth/wrong-password'?12:_context2.t1==='auth/user-not-found'?14:16;break;case 12:alert('incorrent password for your email');return _context2.abrupt(\"break\",17);case 14:alert('no user associated with this email');return _context2.abrupt(\"break\",17);case 16:console.log(_context2.t0);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",buttonType:BUTTON_TYPE_CLASSES.google,onClick:signInWithGoogle,children:\"Google Sign In\"})]})]})]});};export default SignInForm;","map":{"version":3,"names":["useState","FormInput","Button","BUTTON_TYPE_CLASSES","signInWithGooglePopup","createUserDocumentFromAuth","signInAuthUserWithEmailAndPassword","defaultFormFields","email","password","SignInForm","formFields","setFormFields","resetFormFields","signInWithGoogle","handleSubmit","event","preventDefault","code","alert","console","log","handleChange","target","name","value","google"],"sources":["D:/Weebsitee/React Course/king-clothing/src/components/sign-in-form/sign-in-form.component.jsx"],"sourcesContent":["//import { async } from \"@firebase/util\";\r\nimport { useState } from \"react\";\r\n\r\nimport FormInput from \"../form-input/form-input.component\";\r\nimport Button, {BUTTON_TYPE_CLASSES} from \"../button/button.component\";\r\n\r\nimport { signInWithGooglePopup, createUserDocumentFromAuth, signInAuthUserWithEmailAndPassword } from \"../../utils/firebase/firebase.utils\";\r\n\r\nimport './sign-in-form.styles.scss'\r\n\r\nconst defaultFormFields = {\r\n    email: '',\r\n    password: ''\r\n}\r\nconst SignInForm = () => {\r\n    const [formFields, setFormFields] = useState(defaultFormFields);\r\n    const {email, password} = formFields;\r\n\r\n    const resetFormFields = () => {\r\n        setFormFields(defaultFormFields)\r\n    }\r\n\r\n    const signInWithGoogle = async () => {\r\n    await signInWithGooglePopup();\r\n    };\r\n    \r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            await signInAuthUserWithEmailAndPassword( email, password);\r\n            resetFormFields();\r\n        } catch (err) {\r\n            switch(err.code) {\r\n                case 'auth/wrong-password':\r\n                    alert ('incorrent password for your email');\r\n                    break;\r\n                case 'auth/user-not-found':\r\n                    alert ('no user associated with this email');\r\n                    break;\r\n                default:\r\n                    console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const {name, value}  = event.target;\r\n\r\n        setFormFields({...formFields, [name]: value})\r\n    };\r\n    \r\n    return(\r\n        <div className=\"sign-up-container\">\r\n            <h2>Already have an account?</h2>\r\n            <span>\r\n                Sign up with your email and password\r\n            </span>\r\n            <form onSubmit={handleSubmit }>\r\n                <FormInput label=\"Email\" type=\"email\" required onChange={handleChange} name=\"email\" value={email}/>\r\n\r\n                <FormInput label=\"Password\" type=\"password\" required onChange={handleChange} name=\"password\" value={password}/>\r\n                <div className=\"buttons-container\">\r\n                <Button type=\"submit\">Sign In</Button>\r\n                <Button type=\"button\" buttonType={BUTTON_TYPE_CLASSES.google} onClick={signInWithGoogle}>Google Sign In</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignInForm;"],"mappings":"koBAAA;AACA,OAASA,QAAT,KAAyB,OAAzB,CAEA,MAAOC,UAAP,KAAsB,oCAAtB,CACA,MAAOC,OAAP,EAAgBC,mBAAhB,KAA0C,4BAA1C,CAEA,OAASC,qBAAT,CAAgCC,0BAAhC,CAA4DC,kCAA5D,KAAsG,qCAAtG,CAEA,MAAO,4BAAP,C,wFAEA,GAAMC,kBAAiB,CAAG,CACtBC,KAAK,CAAE,EADe,CAEtBC,QAAQ,CAAE,EAFY,CAA1B,CAIA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,cAAoCV,QAAQ,CAACO,iBAAD,CAA5C,wCAAOI,UAAP,eAAmBC,aAAnB,eACA,GAAOJ,MAAP,CAA0BG,UAA1B,CAAOH,KAAP,CAAcC,QAAd,CAA0BE,UAA1B,CAAcF,QAAd,CAEA,GAAMI,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1BD,aAAa,CAACL,iBAAD,CAAb,CACH,CAFD,CAIA,GAAMO,iBAAgB,4FAAG,2JACnBV,sBAAqB,EADF,uDAAH,kBAAhBU,iBAAgB,0CAAtB,CAKA,GAAMC,aAAY,6FAAG,kBAAOC,KAAP,wHACjBA,KAAK,CAACC,cAAN,GADiB,wCAIPX,mCAAkC,CAAEE,KAAF,CAASC,QAAT,CAJ3B,QAKbI,eAAe,GALF,gGAON,aAAIK,IAPE,+BAQJ,qBARI,mBAWJ,qBAXI,qBASLC,KAAK,CAAE,mCAAF,CAAL,CATK,4CAYLA,KAAK,CAAE,oCAAF,CAAL,CAZK,4CAeLC,OAAO,CAACC,GAAR,eAfK,sEAAH,kBAAZN,aAAY,6CAAlB,CAoBA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACN,KAAD,CAAW,CAC5B,kBAAuBA,KAAK,CAACO,MAA7B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CAEAb,aAAa,gCAAKD,UAAL,wBAAkBa,IAAlB,CAAyBC,KAAzB,GAAb,CACH,CAJD,CAMA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,gDADJ,cAEI,8DAFJ,cAKI,cAAM,QAAQ,CAAEV,YAAhB,wBACI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,QAAQ,KAA9C,CAA+C,QAAQ,CAAEO,YAAzD,CAAuE,IAAI,CAAC,OAA5E,CAAoF,KAAK,CAAEd,KAA3F,EADJ,cAGI,KAAC,SAAD,EAAW,KAAK,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEc,YAA/D,CAA6E,IAAI,CAAC,UAAlF,CAA6F,KAAK,CAAEb,QAApG,EAHJ,cAII,aAAK,SAAS,CAAC,mBAAf,wBACA,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,qBADA,cAEA,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,UAAU,CAAEN,mBAAmB,CAACuB,MAAtD,CAA8D,OAAO,CAAEZ,gBAAvE,4BAFA,GAJJ,GALJ,GADJ,CAiBH,CAxDD,CA0DA,cAAeJ,WAAf"},"metadata":{},"sourceType":"module"}