{"ast":null,"code":"import _slicedToArray from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/Weebsitee/React Course/king-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var addCartItem=function addCartItem(cartItems,productToAdd){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});if(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});if(existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}return cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToClear){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToClear.id;});};export var CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsCartOpen:function setIsCartOpen(){},cartItems:[],addItemToCart:function addItemToCart(){},removeItemFromCart:function removeItemFromCart(){},clearItemFromCart:function clearItemFromCart(){},cartCount:0,cartTotal:0});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCartOpen=_useState2[0],setIsCartOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setCartCount=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];useEffect(function(){var newCartCount=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity;},0);setCartCount(newCartCount);},[cartItems]);useEffect(function(){var newCartTotal=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity*cartItem.price;},0);setCartTotal(newCartTotal);},[cartItems]);var addItemToCart=function addItemToCart(productToAdd){setCartItems(addCartItem(cartItems,productToAdd));};var removeItemFromCart=function removeItemFromCart(cartItemToRemove){setCartItems(removeCartItem(cartItems,cartItemToRemove));};var clearItemFromCart=function clearItemFromCart(cartItemToClear){setCartItems(clearCartItem(cartItems,cartItemToClear));};var value={isCartOpen:isCartOpen,setIsCartOpen:setIsCartOpen,removeItemFromCart:removeItemFromCart,addItemToCart:addItemToCart,clearItemFromCart:clearItemFromCart,cartItems:cartItems,cartCount:cartCount,cartTotal:cartTotal};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","cartItemToClear","CartContext","isCartOpen","setIsCartOpen","addItemToCart","removeItemFromCart","clearItemFromCart","cartCount","cartTotal","CartProvider","children","setCartItems","setCartCount","setCartTotal","newCartCount","reduce","total","newCartTotal","price","value"],"sources":["D:/Weebsitee/React Course/king-clothing/src/contexts/cart.context.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\n\r\nconst addCartItem = (cartItems, productToAdd) => {\r\n    const existingCartItem = cartItems.find((cartItem) => cartItem.id === productToAdd.id);\r\n\r\n    if(existingCartItem) {\r\n        return cartItems.map((cartItem) => cartItem.id === productToAdd.id ?\r\n        {...cartItem, quantity: cartItem.quantity + 1} : cartItem\r\n        );\r\n    }\r\n\r\n    return [...cartItems, { ...productToAdd, quantity: 1 }];\r\n};\r\n\r\nconst removeCartItem = (cartItems, cartItemToRemove) => {\r\n    const existingCartItem = cartItems.find((cartItem) => cartItem.id === cartItemToRemove.id);\r\n\r\n    if(existingCartItem.quantity === 1) {\r\n        return cartItems.filter(cartItem => cartItem.id !== cartItemToRemove.id);\r\n    }\r\n\r\n    return cartItems.map((cartItem) => cartItem.id === cartItemToRemove.id ?\r\n    {...cartItem, quantity: cartItem.quantity - 1} : cartItem\r\n    );\r\n}\r\n\r\nconst clearCartItem = (cartItems, cartItemToClear) => {\r\n    return cartItems.filter(cartItem => cartItem.id !== cartItemToClear.id);  \r\n}\r\n\r\nexport const CartContext =createContext({\r\n    isCartOpen: false,\r\n    setIsCartOpen: () => {},\r\n    cartItems: [],\r\n    addItemToCart: () => {},\r\n    removeItemFromCart: () => {},\r\n    clearItemFromCart: () => {},\r\n    cartCount: 0,\r\n    cartTotal: 0\r\n\r\n});\r\n\r\nexport const CartProvider = ({children}) => {\r\n    const [isCartOpen, setIsCartOpen] = useState(false);\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [cartCount, setCartCount] = useState(0);\r\n    const [cartTotal, setCartTotal] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const newCartCount = cartItems.reduce((total, cartItem) => total + cartItem.quantity, 0)\r\n        setCartCount(newCartCount);\r\n    }, [cartItems])\r\n\r\n    useEffect(() => {\r\n        const newCartTotal = cartItems.reduce((total, cartItem) => total + cartItem.quantity * cartItem.price, 0)\r\n        setCartTotal(newCartTotal);\r\n    }, [cartItems])\r\n\r\n    const addItemToCart = (productToAdd) => {\r\n        setCartItems(addCartItem(cartItems, productToAdd));\r\n    };\r\n\r\n    const removeItemFromCart = (cartItemToRemove) => {\r\n        setCartItems(removeCartItem(cartItems, cartItemToRemove));\r\n    };\r\n\r\n    const clearItemFromCart = (cartItemToClear) => {\r\n        setCartItems(clearCartItem(cartItems, cartItemToClear));\r\n    };\r\n    \r\n    const value = {isCartOpen, setIsCartOpen, removeItemFromCart, addItemToCart, clearItemFromCart, cartItems, cartCount, cartTotal};\r\n    return<CartContext.Provider value={value}>{children}</CartContext.Provider>\r\n    \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}